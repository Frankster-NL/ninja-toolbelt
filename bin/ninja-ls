#!/usr/bin/env node
"use strict"

var program = require('commander')
var path = require('path')
var fs = require('fs')

program
  .option('-d, --driver-path [path]', 'Location of drivers folder', process.cwd())
  .description('fetch and install a driver from some repo')
  .parse(process.argv);

list(program.driverPath)

function list(driverPath) {
  var drivers = fs.readdirSync(driverPath)
    .filter(validatePackage)
    .forEach(log)
}

function validatePackage(folder) {
  return fs.existsSync(path.join(program.driverPath,folder, 'package.json'))
}

function log(driver) {
  console.log(driver)
}
